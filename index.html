<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ログイン - 出欠システム</title>
</head>
<body>
  <h2>ログイン画面</h2>
  <input id="name" placeholder="名前"><br>
  <input id="studentId" placeholder="出席番号 (例:3401)"><br>
  <input id="password" type="password" placeholder="パスワード"><br>
  <button onclick="login()">ログイン</button>

  <script>
    // ローカルストレージに保存して次回自動入力
    window.onload = () => {
      if(localStorage.getItem("name")){
        document.getElementById("name").value = localStorage.getItem("name");
        document.getElementById("studentId").value = localStorage.getItem("studentId");
      }
    };

    function login() {
      const name = document.getElementById("name").value;
      const studentId = document.getElementById("studentId").value;
      const password = document.getElementById("password").value;

      if(!name || !studentId || !password){
        alert("全て入力してください");
        return;
      }

      // 保存
      localStorage.setItem("name", name);
      localStorage.setItem("studentId", studentId);

      // 出席番号からクラス判定（上2桁）
      const classCode = studentId.substring(0, 2);

      // ここでGASにログイン情報を送って記録してもOK

      alert(`${name} さん（${classCode}クラス）でログインしました`);
      window.location.href = "attendance.html"; // 出欠画面へ
    }
  </script>
</body>
</html>
